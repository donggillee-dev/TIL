## JSONP란?

- CORS가 활성화 되기 이전의 데이터 요청 방식이며 다른 도메인으로부터 데이터를 가져오기 위해 사용되는 방식
- SOP 정책으로 인해 생기는 이슈를 Cross-domain issue라고 하는데 JSONP는 이 이슈를 우회해서 데이터 공유를 가능하게 만들었다.

## JSONP 동작방식

- script 태그로 다른 도메인 요청 시 SOP 정책이 적용되지 않는 HTML 문서의 특성을 이용해서 동작
- script 태그는 src 속성 값을 호출한 결과를 바로 javascript로 불러와 즉시 실행시킨다
- 하지만 특정 요청에 대한 결과값이 json이라고 하였을 때 script태그로 호출하게되면 오류가 발생한다
  - 결과값이 json인데 {}를 객체 리터럴이 아닌 블록으로 인식하기 때문
  - 그래서 이 결과값을 처리해주는 콜백이 필요하다

## callback=?

- jQuery 1.2부터는 JSONP 호출에 대한 네이티브 지원이 제공됨. JSONP 콜백을 지정한 경우 다른 도메인에 있는 JSON 데이터를 로드할 수 있다
- 하지만 url?callback=? 라는 구문을 사용하여 지정할 수 있음
- $.getJSON() 방식을 살펴보면 url 맨 끝에 callback= 이라는 문자열과 함께 실제 함수 이름 대신 ? 기호로 되어있는 경우를 볼 수 있음
- 이는 jQuery가 ? 기호를 인라인 함수를 호출하는 생성된 함수 이름을 임의(ex: jsonp1234512)로 바꾸기 때문에
- 그러므로 익명 메소드로 바로 처리하고 싶을때에는 반드시 ?을 반드시 써줄 것

## 마지막으로

JSONP는 여러 보안상 이슈로 현재는 W3C에서 채택된 CORS 방식의 HTTP 통신을 권장한다